<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cliffort Mmakola | Engineering & Data Science</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap');
        
        :root { --accent-indigo: #6366f1; --accent-purple: #a855f7; --accent-pink: #ec4899; }
        
        body { 
            background-color: #ffffff; 
            color: #0f172a; 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            scroll-behavior: smooth;
        }

        #canvas-container { position: fixed; top: 0; left: 0; z-index: -1; opacity: 0.5; }

        /* Typography Hierarchy */
        .h1-hero { font-size: clamp(3rem, 8vw, 6rem); line-height: 0.95; letter-spacing: -0.04em; }
        .section-label { font-size: 0.65rem; font-weight: 800; letter-spacing: 0.4em; color: #94a3b8; text-transform: uppercase; margin-bottom: 2rem; display: block; }
        
        /* Glassmorphism Cards */
        .card-spec {
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 0, 0, 0.04);
            transition: all 0.5s cubic-bezier(0.2, 1, 0.3, 1);
        }
        .card-spec:hover {
            border: 1px solid rgba(99, 102, 241, 0.2);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.03);
            transform: translateY(-8px);
        }

        .gradient-text {
            background: linear-gradient(135deg, var(--accent-indigo), var(--accent-purple), var(--accent-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-link { font-size: 0.75rem; font-weight: 700; letter-spacing: 0.1em; transition: color 0.3s; }
        .nav-link:hover { color: var(--accent-indigo); }

        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
    </style>
</head>
<body class="antialiased">

    <div id="canvas-container"></div>

    <!-- Sticky Navigation -->
    <nav class="fixed top-0 w-full z-50 bg-white/60 backdrop-blur-lg border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-8 h-20 flex justify-between items-center">
            <div class="font-extrabold tracking-tighter text-xl">C<span class="text-indigo-600">.</span>MMAKOLA</div>
            <div class="hidden md:flex gap-12 uppercase">
                <a href="#about" class="nav-link">Home</a>
                <a href="#projects" class="nav-link">Projects</a>
                <a href="#experience" class="nav-link">Experience</a>
                <a href="#documents" class="nav-link text-indigo-600">Document Vault</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header id="about" class="min-h-screen flex flex-col justify-center max-w-7xl mx-auto px-8 pt-20">
        <span class="section-label">Engineering Portfolio 2024</span>
        <h1 class="h1-hero font-extrabold mb-10">
            Metallurgical <br> <span class="gradient-text">Innovation</span> & <br> Data Science.
        </h1>
        <p class="max-w-2xl text-lg md:text-xl text-slate-500 font-medium leading-relaxed mb-12">
            Bridging the gap between <b>Physical Metallurgy</b> and <b>Applied Machine Learning</b>. Building tools that transform subjective analysis into objective, data-driven industrial intelligence.
        </p>
        <div class="flex flex-wrap gap-8 items-center">
            <a href="mailto:c8cliffort@gmail.com" class="bg-slate-900 text-white px-10 py-5 rounded-2xl font-bold text-sm transition hover:bg-slate-800 shadow-xl shadow-slate-200">Email Me</a>
            <a href="https://linkedin.com/in/cliffortmmakola" target="_blank" class="font-bold border-b-2 border-slate-900 pb-1 text-sm">LinkedIn Profile →</a>
        </div>
    </header>

    <!-- Expertise Bridge (The "Nice" Detail) -->
    <section class="max-w-7xl mx-auto px-8 py-32 grid grid-cols-1 md:grid-cols-3 gap-12">
        <div class="space-y-4">
            <h3 class="font-bold text-indigo-600 text-sm">01. METALLURGY</h3>
            <p class="text-slate-500 text-sm">5+ Years of industrial experience in failure analysis, wire manufacturing, and synthetic diamond processing.</p>
        </div>
        <div class="space-y-4">
            <h3 class="font-bold text-purple-600 text-sm">02. DATA SCIENCE</h3>
            <p class="text-slate-500 text-sm">Expertise in model building, data annotation, and training computer vision models for microstructural analysis.</p>
        </div>
        <div class="space-y-4">
            <h3 class="font-bold text-pink-600 text-sm">03. DIGITAL TOOLS</h3>
            <p class="text-slate-500 text-sm">Developing custom software (PyQt, Gradio) to automate and trace metallurgical evaluation results.</p>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="max-w-7xl mx-auto px-8 py-24">
        <span class="section-label">Selected Projects</span>
        <div id="project-target" class="grid grid-cols-1 md:grid-cols-2 gap-10">
            <!-- Loaded via JS -->
        </div>
    </section>

    <!-- Experience & Training Section -->
    <section id="experience" class="max-w-7xl mx-auto px-8 py-32 border-t border-slate-100">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-24">
            <div>
                <span class="section-label">Professional History</span>
                <div id="exp-target" class="space-y-16"></div>
            </div>
            <div>
                <span class="section-label">Advanced Certification</span>
                <div id="cert-target" class="space-y-10"></div>
            </div>
        </div>
    </section>

    <!-- Asset Vault Section -->
    <section id="documents" class="max-w-7xl mx-auto px-8 py-32 border-t border-slate-100 bg-slate-50/30">
        <span class="section-label">Document Archive</span>
        <div id="doc-target" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
    </section>

    <!-- Footer -->
    <footer class="py-24 text-center">
        <div class="font-black text-2xl mb-4 tracking-tighter">C<span class="text-indigo-600">.</span>MMAKOLA</div>
        <p class="text-[10px] font-bold uppercase tracking-[0.6em] text-slate-400">Johannesburg, South Africa &bull; 2024</p>
    </footer>

    <script>
        // Artistic Galaxy Background (Blue-Purple-Pink)
        let particles = [];
        function setup() {
            let canvas = createCanvas(windowWidth, windowHeight);
            canvas.parent('canvas-container');
            for(let i=0; i<40; i++) particles.push(new Particle(i));
        }

        function draw() {
            clear();
            particles.forEach(p => { p.update(); p.display(); p.connect(particles); });
        }

        class Particle {
            constructor(i) {
                this.pos = createVector(random(width), random(height));
                this.vel = createVector(random(-0.4, 0.4), random(-0.4, 0.4));
                this.size = 2;
                if(i%3==0) this.c = color('#6366f1');
                else if(i%3==1) this.c = color('#a855f7');
                else this.c = color('#ec4899');
            }
            update() {
                this.pos.add(this.vel);
                if(this.pos.x<0 || this.pos.x>width) this.vel.x*=-1;
                if(this.pos.y<0 || this.pos.y>height) this.vel.y*=-1;
            }
            display() { noStroke(); this.c.setAlpha(100); fill(this.c); circle(this.pos.x, this.pos.y, this.size); }
            connect(others) {
                others.forEach(o => {
                    let d = dist(this.pos.x, this.pos.y, o.pos.x, o.pos.y);
                    if(d < 220) {
                        let sc = lerpColor(this.c, o.c, 0.5);
                        sc.setAlpha(map(d, 0, 220, 60, 0));
                        stroke(sc); strokeWeight(0.8); line(this.pos.x, this.pos.y, o.pos.x, o.pos.y);
                    }
                });
            }
        }

        // Data Loader
        async function buildPortfolio() {
            const res = await fetch('data.json');
            const data = await res.json();

            // Project Cards
            data.projects.forEach(p => {
                document.getElementById('project-target').innerHTML += `
                    <div class="card-spec p-12 rounded-[32px] flex flex-col justify-between">
                        <div>
                            <div class="flex gap-2 mb-6">
                                ${p.tech.map(t => `<span class="bg-indigo-50 text-indigo-500 text-[10px] font-extrabold px-3 py-1 rounded-full uppercase tracking-widest">${t}</span>`).join('')}
                            </div>
                            <h3 class="text-3xl font-extrabold mb-4 leading-tight">${p.title}</h3>
                            <p class="text-slate-500 text-sm leading-relaxed mb-8">${p.description}</p>
                        </div>
                        <a href="${p.link}" target="_blank" class="font-bold text-sm flex items-center gap-2 group">
                            Explore Technical Implementation 
                            <span class="group-hover:translate-x-2 transition-transform">→</span>
                        </a>
                    </div>
                `;
            });

            // Experience Timeline
            data.experience.forEach(e => {
                document.getElementById('exp-target').innerHTML += `
                    <div class="relative pl-10 border-l border-slate-200">
                        <div class="absolute -left-[5px] top-1 w-2 h-2 bg-slate-900 rounded-full"></div>
                        <h4 class="text-xl font-bold mb-1">${e.title}</h4>
                        <p class="text-xs font-bold text-indigo-500 uppercase tracking-widest mb-6">${e.company} &bull; ${e.period}</p>
                        <ul class="text-slate-500 text-[13px] leading-relaxed space-y-3 font-medium">
                            ${e.details.map(d => `<li>&bull; ${d}</li>`).join('')}
                        </ul>
                    </div>
                `;
            });

            // Courses
            data.certificates.forEach(c => {
                document.getElementById('cert-target').innerHTML += `
                    <div class="card-spec p-8 rounded-2xl">
                        <h4 class="text-base font-bold mb-1">${c.title}</h4>
                        <p class="text-[10px] font-black text-purple-500 uppercase mb-4 tracking-wider">${c.provider}</p>
                        <p class="text-xs text-slate-500 italic leading-relaxed">${c.desc}</p>
                    </div>
                `;
            });

            // Documents
            data.documents.forEach(d => {
                document.getElementById('doc-target').innerHTML += `
                    <a href="${d.file}" target="_blank" class="card-spec p-8 flex flex-col justify-between aspect-square group">
                        <span class="text-[10px] font-black text-slate-300 uppercase tracking-widest group-hover:text-indigo-400 transition">${d.tag}</span>
                        <div>
                            <h5 class="text-sm font-bold leading-tight">${d.name}</h5>
                            <div class="w-6 h-[2px] bg-slate-200 mt-4 group-hover:w-full transition-all"></div>
                        </div>
                    </a>
                `;
            });
        }

        window.onresize = () => resizeCanvas(windowWidth, windowHeight);
        buildPortfolio();
    </script>
</body>
</html>
