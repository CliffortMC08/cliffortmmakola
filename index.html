<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cliffort Mmakola | Engineering & Data Science</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap');
        
        :root { --accent-indigo: #6366f1; --accent-purple: #a855f7; --accent-pink: #ec4899; }
        
        body { 
            background-color: #ffffff; 
            color: #0f172a; 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            scroll-behavior: smooth;
        }

        #canvas-container { 
            position: fixed; 
            top: 0; 
            left: 0; 
            z-index: -1; 
            opacity: 1; /* Maximum visibility */
        }

        /* Hero Text Styles */
        .h1-hero { font-size: clamp(2.5rem, 6vw, 5rem); line-height: 1; letter-spacing: -0.04em; }
        .section-label { font-size: 0.65rem; font-weight: 800; letter-spacing: 0.4em; color: #475569; text-transform: uppercase; margin-bottom: 2rem; display: block; }
        
        /* High-Contrast Glassmorphism */
        .card-spec {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            transition: all 0.5s cubic-bezier(0.2, 1, 0.3, 1);
        }
        .card-spec:hover {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(99, 102, 241, 0.5);
            box-shadow: 0 30px 60px rgba(99, 102, 241, 0.15);
            transform: translateY(-8px);
        }

        .gradient-text {
            background: linear-gradient(135deg, var(--accent-indigo), var(--accent-purple), var(--accent-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 10px rgba(168, 85, 247, 0.2));
        }

        /* Glowing Profile Wrapper */
        .profile-wrapper { position: relative; width: 100%; max-width: 380px; }
        .profile-image {
            width: 100%;
            aspect-ratio: 1/1;
            object-fit: cover;
            border-radius: 40px;
            z-index: 10;
            position: relative;
            border: 4px solid rgba(255, 255, 255, 0.8);
        }
        .profile-glow {
            position: absolute;
            top: -25px; right: -25px; bottom: -25px; left: -25px;
            background: linear-gradient(135deg, var(--accent-indigo), var(--accent-purple), var(--accent-pink));
            border-radius: 60px;
            z-index: 1;
            filter: blur(40px);
            opacity: 0.6;
            animation: pulse 4s infinite alternate;
        }

        @keyframes pulse {
            0% { opacity: 0.4; transform: scale(0.95); }
            100% { opacity: 0.7; transform: scale(1.05); }
        }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: linear-gradient(var(--accent-indigo), var(--accent-pink)); border-radius: 10px; }
    </style>
</head>
<body class="antialiased">

    <div id="canvas-container"></div>

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 bg-white/80 backdrop-blur-2xl border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-8 h-20 flex justify-between items-center">
            <div class="font-extrabold tracking-tighter text-xl">C<span class="text-indigo-600">.</span>MMAKOLA</div>
            <div class="hidden md:flex gap-10 text-[10px] font-black uppercase tracking-widest">
                <a href="#about" class="hover:text-indigo-600 transition">Overview</a>
                <a href="#projects" class="hover:text-indigo-600 transition">Projects</a>
                <a href="#experience" class="hover:text-indigo-600 transition">Experience</a>
                <a href="#documents" class="text-white bg-indigo-600 px-5 py-2.5 rounded-xl shadow-lg shadow-indigo-200 hover:scale-105 transition">Archive Vault</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header id="about" class="min-h-screen flex items-center max-w-7xl mx-auto px-8 pt-24">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-16 items-center w-full">
            <div class="lg:col-span-7 order-2 lg:order-1">
                <span class="section-label">Engineering Portfolio 2024</span>
                <h1 class="h1-hero font-extrabold mb-8">
                    Metallurgical <br> <span class="gradient-text">Innovation</span> & <br> Data Science.
                </h1>
                <p class="max-w-xl text-lg text-slate-700 font-semibold leading-relaxed mb-10 bg-white/30 p-4 rounded-xl">
                    Bridging the gap between <b>Physical Metallurgy</b> and <b>Applied Machine Learning</b>. 
                </p>
                <div class="flex flex-wrap gap-6 items-center">
                    <a href="mailto:c8cliffort@gmail.com" class="bg-slate-900 text-white px-10 py-4 rounded-2xl font-bold text-sm transition hover:bg-black shadow-2xl">Contact Directly</a>
                </div>
            </div>
            <div class="lg:col-span-5 order-1 lg:order-2 flex justify-center lg:justify-end">
                <div class="profile-wrapper">
                    <div class="profile-glow"></div>
                    <img src="assets/profile.png" alt="Cliffort Mosebi Mmakola" class="profile-image">
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Container -->
    <main class="max-w-7xl mx-auto px-8 relative z-10">
        
        <!-- Technical Pillars -->
        <section class="py-24 grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="card-spec p-10 rounded-[40px]">
                <h3 class="font-black text-indigo-600 text-[10px] tracking-widest uppercase mb-4">Metallurgy</h3>
                <p class="text-slate-800 text-sm font-bold">Process engineering and microstructural evaluation in heavy industry.</p>
            </div>
            <div class="card-spec p-10 rounded-[40px]">
                <h3 class="font-black text-purple-600 text-[10px] tracking-widest uppercase mb-4">AI Systems</h3>
                <p class="text-slate-800 text-sm font-bold">Deep learning pipelines for mineral and phase identification.</p>
            </div>
            <div class="card-spec p-10 rounded-[40px]">
                <h3 class="font-black text-pink-600 text-[10px] tracking-widest uppercase mb-4">Development</h3>
                <p class="text-slate-800 text-sm font-bold">Deploying interactive tools for metallurgical data tracing.</p>
            </div>
        </section>

        <!-- Dynamic Sections -->
        <section id="projects" class="py-24">
            <span class="section-label text-white bg-slate-900 px-4 py-1 rounded inline-block">Industrial Solutions</span>
            <div id="project-target" class="grid grid-cols-1 md:grid-cols-2 gap-12 mt-12"></div>
        </section>

        <section id="experience" class="py-32">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-24">
                <div><span class="section-label">Experience</span><div id="exp-target" class="space-y-16 mt-12"></div></div>
                <div><span class="section-label">Training</span><div id="cert-target" class="space-y-8 mt-12"></div></div>
            </div>
        </section>

        <section id="documents" class="py-32">
            <span class="section-label">Archive Vault</span>
            <div id="doc-target" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mt-12"></div>
        </section>
    </main>

    <footer class="py-24 text-center">
        <div class="font-black text-xl mb-4 tracking-tighter uppercase gradient-text">Cliffort.M</div>
        <p class="text-[9px] font-bold uppercase tracking-[0.5em] text-slate-500">Johannesburg &bull; 2024</p>
    </footer>

    <script>
        // ARTWORK: GLOWING TRIANGLE LATTICE
        let dots = [];
        const DOT_COUNT = 60;
        const THRESHOLD = 180;

        function setup() {
            let canvas = createCanvas(windowWidth, windowHeight);
            canvas.parent('canvas-container');
            for(let i=0; i<DOT_COUNT; i++) dots.push(new Node(i));
        }

        function draw() {
            clear();
            background(255, 255, 255, 10); // Slight trail effect

            // Apply Global Glow
            drawingContext.shadowBlur = 25;
            
            dots.forEach(d => {
                d.move();
                d.show();
                d.connect(dots);
            });
        }

        class Node {
            constructor(i) {
                this.pos = createVector(random(width), random(height));
                this.vel = createVector(random(-0.6, 0.6), random(-0.6, 0.6));
                
                // Palette
                if(i%3==0) this.c = color('#6366f1');
                else if(i%3==1) this.c = color('#a855f7');
                else this.c = color('#ec4899');
            }
            move() {
                this.pos.add(this.vel);
                if(this.pos.x<0 || this.pos.x>width) this.vel.x*=-1;
                if(this.pos.y<0 || this.pos.y>height) this.vel.y*=-1;
            }
            show() {
                noStroke();
                drawingContext.shadowColor = this.c.toString();
                fill(this.c);
                circle(this.pos.x, this.pos.y, 6);
            }
            connect(others) {
                for (let i = 0; i < others.length; i++) {
                    let d1 = dist(this.pos.x, this.pos.y, others[i].pos.x, others[i].pos.y);
                    if (d1 < THRESHOLD) {
                        // Draw Line
                        strokeWeight(1.5);
                        let sc = lerpColor(this.c, others[i].c, 0.5);
                        sc.setAlpha(map(d1, 0, THRESHOLD, 200, 0));
                        stroke(sc);
                        line(this.pos.x, this.pos.y, others[i].pos.x, others[i].pos.y);

                        // Find 3rd point for Triangle Fill
                        for (let j = i + 1; j < others.length; j++) {
                            let d2 = dist(others[i].pos.x, others[i].pos.y, others[j].pos.x, others[j].pos.y);
                            let d3 = dist(this.pos.x, this.pos.y, others[j].pos.x, others[j].pos.y);
                            if (d2 < THRESHOLD && d3 < THRESHOLD) {
                                noStroke();
                                let triCol = lerpColor(this.c, others[j].c, 0.5);
                                triCol.setAlpha(map(d1+d2+d3, 0, THRESHOLD*3, 60, 0));
                                fill(triCol);
                                triangle(this.pos.x, this.pos.y, others[i].pos.x, others[i].pos.y, others[j].pos.x, others[j].pos.y);
                            }
                        }
                    }
                }
            }
        }

        // FETCH CONTENT
        async function load() {
            const res = await fetch('data.json');
            const data = await res.json();

            data.projects.forEach(p => {
                document.getElementById('project-target').innerHTML += `
                    <div class="card-spec p-12 rounded-[50px]">
                        <div class="flex gap-2 mb-8">
                            ${p.tech.map(t => `<span class="bg-indigo-600 text-white text-[9px] font-black px-3 py-1 rounded-full uppercase tracking-tighter">${t}</span>`).join('')}
                        </div>
                        <h3 class="text-3xl font-black mb-4 leading-none text-slate-900">${p.title}</h3>
                        <p class="text-slate-700 text-sm font-bold leading-relaxed mb-10 italic">${p.description}</p>
                        <a href="${p.link}" target="_blank" class="text-[10px] font-black uppercase tracking-[0.2em] text-indigo-600 border-b-2 border-indigo-600 pb-1">Technical Specs →</a>
                    </div>`;
            });

            data.experience.forEach(e => {
                document.getElementById('exp-target').innerHTML += `
                    <div class="relative pl-12 border-l-4 border-slate-900">
                        <div class="absolute -left-3 top-0 w-5 h-5 bg-white border-4 border-slate-900 rounded-full"></div>
                        <h4 class="text-2xl font-black text-slate-900">${e.title}</h4>
                        <p class="text-[10px] font-black text-indigo-600 uppercase tracking-widest mt-2 mb-6">${e.company} &bull; ${e.period}</p>
                        <ul class="text-slate-800 text-sm font-bold space-y-3">${e.details.map(d => `<li>• ${d}</li>`).join('')}</ul>
                    </div>`;
            });

            data.certificates.forEach(c => {
                document.getElementById('cert-target').innerHTML += `
                    <div class="card-spec p-8 rounded-[40px]">
                        <h4 class="text-lg font-black text-slate-900">${c.title}</h4>
                        <p class="text-[10px] font-black text-purple-600 uppercase mt-1 mb-4">${c.provider}</p>
                        <p class="text-xs text-slate-700 font-bold leading-relaxed">${c.desc}</p>
                    </div>`;
            });

            data.documents.forEach(d => {
                document.getElementById('doc-target').innerHTML += `
                    <a href="${d.file}" target="_blank" class="card-spec p-10 flex flex-col justify-between aspect-square rounded-[40px] group transition-all">
                        <span class="text-[9px] font-black text-slate-400 uppercase tracking-widest group-hover:text-indigo-600">${d.tag}</span>
                        <div>
                            <h5 class="text-sm font-black uppercase tracking-tight">${d.name}</h5>
                            <div class="w-10 h-1.5 bg-indigo-600 mt-4 group-hover:w-full transition-all"></div>
                        </div>
                    </a>`;
            });
        }

        window.onresize = () => resizeCanvas(windowWidth, windowHeight);
        load();
    </script>
</body>
</html>
